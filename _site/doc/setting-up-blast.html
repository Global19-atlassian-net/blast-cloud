<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>NCBI BLAST AMI : Setting up BLAST</title>
        <meta name="description" content="An experiment to put BLAST on the cloud">

        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/main.css">
    </head>
    <body>

        <div class="container">
            <div class=row-fluid>
                <div id=header class=span12>
                    <h4><a class=brand href="/">NCBI BLAST AMI</a>
    <small>An experiment to put BLAST on the cloud</small>
</h4>


                </div>
            </div>

            <div class=row-fluid>
                
                
                    <div id=navigation class=span2>
                        <ul class="nav nav-list">
    <li><a href="/">Home</a></li>
    
        
        

        
            
                <li class=nav-header>Documentation</li>
            
            <li data-order="0"><a href="/doc/setting-up-blast.html">Setting up BLAST</a></li>
        
            
            <li data-order="1"><a href="/doc/running-blast.html">Running BLAST</a></li>
        
            
            <li data-order="2"><a href="/doc/fuse.html">The FUSE client</a></li>
        
            
            <li data-order="5"><a href="/doc/faq.html">FAQ</a></li>
        
    
        
        

        
    
        
        

        
    
        
        

        
            
                <li class=nav-header>Developers</li>
            
            <li data-order="3"><a href="/dev/exceptions.html">Exceptions</a></li>
        
            
            <li data-order="2"><a href="/dev/disclaimer.html">Disclaimer</a></li>
        
            
            <li data-order="1"><a href="/dev/copyright.html">Copyright</a></li>
        
            
            <li data-order="0"><a href="/dev/api.html">API</a></li>
        
    
        
        

        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class=divider></li> first to break up the content. -->
</ul>

                    </div>

                    <div id=content class=span10>
                        <div class=page-header>
    <h2>Setting up BLAST
        
    </h2>
</div>

<p>An account is required to run searches at AWS. An account may be obtained at <a href="http://aws.amazon.com">http://aws.amazon.com</a> (requires a credit card); please see the <a href="http://docs.amazonwebservices.com/AWSEC2/latest/GettingStartedGuide/">EC2 documentation</a> <a href="http://aws.amazon.com/getting-started/">at AWS</a> and their <a href="https://aws.amazon.com/ec2/pricing/">pricing information</a>. AWS also provides a <a href="https://aws.amazon.com/cli/">Command Line Interface</a>. </p>

<p>The BLAST AMI can be started via the <a href="https://aws.amazon.com/marketplace/pp/B00N44P7L6">AWS marketplace</a>.
BLAST searches will not run efficiently on smaller instances. An instance with 32 GB of memory and a minimum of 32 GB SSD is required for reasonable performance.
In Marketplace, you can start with a smaller instance (<code>m3.2xlarge</code>) but your requirements may drive you to a large instance.</p>

<p>The nucleotide nt database contains about 56 billion bases (04/14/2014), but the sequence data is compressed 4-to-1. Hence, the sequences require about 14 GB. The protein nr database contains about 14 billion residues (04/14/2014), so the sequences require 14 GB. Experiments at the NCBI have shown that the <code>m3.2xlarge</code> instance (&quot;General Purpose&quot; with 30 GB of memory and SSD) as well as the <code>c3.4xlarge</code> (&quot;Compute Optimized&quot; with 30 GB of memory and SSD) instances are good choices for the BLAST AMI. The BLAST AMI will concatenate and construct a filesystem at first boot for the BLAST databases from all the attached ephemeral storage. Therefore, an <code>m3.2xlarge</code>, which may have up to two 80 GB ephemeral drives attached, may have 160 GB of BLAST database storage. The nr and nt databases will completely fill a 32 GB SSD (causing searches to fail), so a larger instance type than an <code>m3.large</code> should be selected if both protein and nucleotide databases will be searched. BLAST will not run on micro instances.</p>

<p>If you wish to allow remote searches, then you will need to enable HTTP access when you configure your instance. Please see [[Appendix 3]]. If you allow HTTP access, it is very important that you configure your security group properly. If the group is not restricted, anybody with knowledge of your public DNS may perform remote searches on your instance, see all the BLAST results for remote searches or delete the results. If possible, you should configure the security group of your instance to allow HTTP access only from a specific set of IP&#39;s (e.g. your lab&#39;s network). You should also only share the public DNS of your instance with people who have your permission to use it.</p>

<p>As a security precaution, the BLAST AMI blocks all ports but 22 and 80.
The BLAST results are kept on ephemeral storage. They will disappear when the instance is stopped or terminated. If you wish to keep them, then you should move them to permanent storage either at AWS or your institution.</p>


                    </div>
                
            </div>

            <div class=row-fluid>
                <div id=footer class=span12>
                    Documentation for <a href="https://aws.amazon.com/marketplace/pp/B00N44P7L6">NCBI BLAST AMI</a>

                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                }

                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>
    </body>
</html>
